Wildcard certs

Create individual node
	-Configure TLS toolkit
		-Configure client cert
	-Copy keystore/truststore/nifi.properties
	-Configure zookeeper properties
	-Configure IAI user


	/etc/hosts aliases
	different ports?

	docker cluster
	same ports mapped to different host port

	wildcart cert same keystore, truststore, passwords for each node
	only port, hostname, different? (actual port in nifi.properties same, docker host port different)
	zookeeper settings?

	custom Dockerfile which reads ZK file from host?
	built on apache/nifi:latest


	manual configuration first

	cluster port 1(n)888
	s2s port 1(n)000
	api port 1(n)443
	zk port 218(n)

	Node 1

	

	Node 2

	

	Node 3



tar --exclude='bin/' \
--exclude='database_repository/' \
--exclude='content_repository/' \
--exclude='docs/' \
--exclude='flowfile_repository/' \
--exclude='lib/' \
--exclude='logs/' \
--exclude='provenance_repository/' \
--exclude='run/' \
--exclude='work/' \
--exclude="LICENSE" \
--exclude="NOTICE" \
--exclude="README" \
-zvcf archived_config.tar.gz .



ðŸ”“ 0s @ 18:07:58 $ tree -L 2
.
â”œâ”€â”€ certs
â”œâ”€â”€ hardcoded
â”‚Â Â  â”œâ”€â”€ CN=alopresto.NIFI-5370_OU=NiFi.p12
â”‚Â Â  â”œâ”€â”€ CN=alopresto.NIFI-5370_OU=NiFi.password
â”‚Â Â  â”œâ”€â”€ nifi-cert.pem
â”‚Â Â  â”œâ”€â”€ nifi-key.key
â”‚Â Â  â”œâ”€â”€ node1.nifi.apache.org
â”‚Â Â  â”œâ”€â”€ node2.nifi.apache.org
â”‚Â Â  â””â”€â”€ node3.nifi.apache.org
â”œâ”€â”€ node1
â”‚Â Â  â”œâ”€â”€ LICENSE
â”‚Â Â  â”œâ”€â”€ NOTICE
â”‚Â Â  â”œâ”€â”€ README
â”‚Â Â  â”œâ”€â”€ bin
â”‚Â Â  â”œâ”€â”€ conf
â”‚Â Â  â”œâ”€â”€ docs
â”‚Â Â  â””â”€â”€ lib
â”œâ”€â”€ node2
â”‚Â Â  â”œâ”€â”€ LICENSE
â”‚Â Â  â”œâ”€â”€ NOTICE
â”‚Â Â  â”œâ”€â”€ README
â”‚Â Â  â”œâ”€â”€ bin
â”‚Â Â  â”œâ”€â”€ conf
â”‚Â Â  â”œâ”€â”€ docs
â”‚Â Â  â””â”€â”€ lib
â”œâ”€â”€ node3
â”‚Â Â  â”œâ”€â”€ LICENSE
â”‚Â Â  â”œâ”€â”€ NOTICE
â”‚Â Â  â”œâ”€â”€ README
â”‚Â Â  â”œâ”€â”€ bin
â”‚Â Â  â”œâ”€â”€ conf
â”‚Â Â  â”œâ”€â”€ docs
â”‚Â Â  â””â”€â”€ lib
â””â”€â”€ wildcard
    â”œâ”€â”€ CN=alopresto.NIFI-5370_OU=NiFi.p12
    â”œâ”€â”€ CN=alopresto.NIFI-5370_OU=NiFi.password
    â”œâ”€â”€ nifi-cert.pem
    â”œâ”€â”€ nifi-key.key
    â””â”€â”€ star.nifi.apache.org

22 directories, 17 files